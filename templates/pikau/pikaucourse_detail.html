{% extends "base.html" %}

{% load static %}
{% load render_html_field %}
{% load django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
  {% breadcrumb "Home" "/" %}
  {% breadcrumb "PÄ«kau" "pikau:index" %}
  {% breadcrumb "Courses" "pikau:pikau_course_list" %}
  {% breadcrumb pikau_course.name "" %}
{% endblock breadcrumbs %}

{% block custom_page_heading %}
  <div class="jumbotron bg-size-cover text-center"{% if pikau_course.cover_photo %} style="background-image:url({% static pikau_course.cover_photo %});"{% endif %}>
    <h1 class="text-white">{{ pikau_course.name }}</h1>
    {% if pikau_course.status < 6 and pikau_course.development_folder %}
      <a class="btn btn-lg btn-light mt-3" href="{{ pikau_course.development_folder }}">
        <img src="{% static 'images/icons/icons8/google-drive.png' %}" class="icon">
        View on Google Drive
      </a>
    {% endif %}
    {% if pikau_course.status >= 6 %}
      <a class="btn btn-lg btn-light mt-3" href="{% url 'pikau:pikau_content' pikau_course.slug  %}">
        View content
      </a>
    {% endif %}
  </div>
{% endblock custom_page_heading %}

{% block content %}
  <p><strong>Slug:</strong> <code>{{ pikau_course.slug }}</code></p>

  <h2>Development Information</h2>
  {% include "pikau/snippets/pikau_course_progress_bar.html" %}
  <p><strong>Status updated: </strong>{{ pikau_course.status_updated }}</p>

  <h2>Metadata</h2>
  <p><strong>Language:</strong> {{ pikau_course.get_language_display }}</p>
  <p>
    {% with topic=pikau_course.topic %}
      {% if topic %}
        <strong>Topic:</strong>
        {% include "pikau/snippets/topic_badge.html" %}
      {% endif %}
    {% endwith %}
  </p>
  <p>
    {% with level=pikau_course.level %}
      {% if level %}
        <strong>Level:</strong>
        {% include "pikau/snippets/level_badge.html" %}
      {% endif %}
    {% endwith %}
  </p>

  {% if pikau_course.progress_outcomes.all %}
    <p><strong>Progress Outcomes:</strong></p>
    <ul>
      {% for progress_outcome in pikau_course.progress_outcomes.all %}
        <li>{% include "pikau/snippets/progress_outcome_full_badge.html" %}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <p><strong>Trailer Video:</strong> <a href="{{ pikau_course.trailer_video }}">View</a></p>

  {% if pikau_course.tags.all %}
    <p><strong>Tags:</strong></p>
    <ul>
      {% for tag in pikau_course.tags.all %}
        <li>{% include "pikau/snippets/tag_badge.html" %}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <p><strong>Glossary Terms:</strong></p>
  <ul>
    {% for glossary_term in pikau_course.glossary_terms.all %}
      <li>{{ glossary_term.term }}</li>
    {% endfor %}
  </ul>

  <h2>Resources</h2>
  <p><em>TODO</em></p>

  <h2>Study Plan</h2>
  {% render_html_field pikau_course.study_plan %}

  <h2>Assessment Description</h2>
  {% render_html_field pikau_course.assessment_description %}

  <h2>Assessment Items</h2>
  {% render_html_field pikau_course.assessment_items %}
{% endblock content %}
