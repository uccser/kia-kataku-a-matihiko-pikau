{% extends "base.html" %}

{% load static %}
{% load django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
  {% breadcrumb "Home" "/" %}
  {% breadcrumb "PÄ«kau" "pikau:index" %}
  {% breadcrumb "Pathways" "" %}
{% endblock breadcrumbs %}

{% block page_heading %}
  Pathways
{% endblock page_heading %}

{% block content %}
  <div id="pathways-diagram"></div>
{% endblock content %}

{% block scripts %}
  <script src="{% static 'js/viz.js' %}"></script>
  <script>
    $(document).ready(function() {
      var viz = new Viz({workerURL: "{% static 'js/lite.render.js' %}"});
      viz.renderSVGElement(
        '{{ notation|safe }}', {engine: "dot"}
      ).then(function(svg) {
        $('#pathways-diagram').append(svg);
      });
    });
  </script>
{% endblock scripts %}
